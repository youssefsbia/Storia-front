import{o as l,c as m,a as t,b as y,V as f,t as a,w as _,d as k,e as v,u as T,f as C,g as r,T as I,h as $,i as q,F as V,r as j,C as p}from"./index-BLdYwHhr.js";const Q={class:"mt-8"},F={class:"relative flex flex-col md:flex-row border-b border-gray-400 py-4"},N={class:"flex-shrink-0"},P=["src"],z={class:"w-100 mt-4 md:mt-0 md:ml-6"},D={class:"text-lg font-bold"},S={class:"mt-2 text--primary"},O={class:"mt-4 flex items-center justify-between"},Y={class:"flex items-center"},A={class:"mx-2 text--primary"},E={class:"ml-auto font-bold"},G={__name:"SingleCartItem",props:{item:{type:Object,required:!0}},emits:["decrement-quantity","increment-quantity","delete-cart-item"],setup(e,{emit:s}){const o=s,u=c=>{c.quantity!==1&&o("decrement-quantity",c)},d=c=>{o("increment-quantity",c)},x=c=>{o("delete-cart-item",c)};return(c,i)=>(l(),m("div",Q,[t("div",F,[t("div",N,[t("img",{src:e.item.product.image,alt:"Product image",class:"w-32 h-32 object-cover"},null,8,P)]),y(f,{class:"!absolute !top-2 !right-0",variant:"text",icon:"mdi-delete-outline",onClick:i[0]||(i[0]=n=>x(e.item))}),t("div",z,[t("h2",D,a(e.item.product.title),1),t("p",S,a(e.item.product.description),1),t("div",O,[t("div",Y,[y(f,{variant:"outlined",size:"x-small",onClick:i[1]||(i[1]=n=>u(e.item))},{default:_(()=>[y(k,null,{default:_(()=>i[3]||(i[3]=[v("mdi-minus")])),_:1})]),_:1}),t("span",A,a(e.item.quantity),1),y(f,{variant:"outlined",size:"x-small",onClick:i[2]||(i[2]=n=>d(e.item))},{default:_(()=>[y(k,null,{default:_(()=>i[4]||(i[4]=[v("mdi-plus")])),_:1})]),_:1})]),t("span",E,"$"+a(e.item.product.price.toFixed(2)),1)])])])]))}};function w(e){const s=e;s.__i18n=s.__i18n||[],s.__i18n.push({locale:"",resource:{en:{shoppingCart:{t:0,b:{t:2,i:[{t:3}],s:"Shopping Cart"}},checkout:{t:0,b:{t:2,i:[{t:3}],s:"buy now"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},emptyCart:{t:0,b:{t:2,i:[{t:3}],s:"Your cart is empty."}},conditionToBuy:{t:0,b:{t:2,i:[{t:3,v:"You must have a minimum of $"},{t:4,k:"minToBuy"},{t:3,v:" to buy."}]}}},fr:{shoppingCart:{t:0,b:{t:2,i:[{t:3}],s:"Panier d'achat"}},checkout:{t:0,b:{t:2,i:[{t:3}],s:"Acheter maintenant"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},emptyCart:{t:0,b:{t:2,i:[{t:3}],s:"Votre panier est vide."}},conditionToBuy:{t:0,b:{t:2,i:[{t:3,v:"Vous devez avoir un minimum de $"},{t:4,k:"minToBuy"},{t:3,v:" pour acheter."}]}}}}})}const L=(e,s)=>{const o=e.__vccOpts||e;for(const[u,d]of s)o[u]=d;return o},H={class:"container mx-auto px-4 py-8"},J={class:"flex flex-col md:flex-row md:justify-between md:items-center"},K={class:"text-2xl font-bold my-4"},M={key:0,class:"mt-8 text--primary text-h5 text-center empty-cart-message"},R={key:1,class:"flex justify-end items-center mt-8"},U={class:"text-gray-600 mr-4"},W={class:"text-xl font-bold cart-total"},X={class:"flex flex-column justify-end items-center md:items-end mt-8"},Z={key:0,class:"text-center mb-2 text-gray-500 font-light text-sm"},B={__name:"CartPage",setup(e){const{t:s}=T(),o=C(()=>p.query().with("product").get()),u=C(()=>o.value.reduce((n,h)=>n+h.product.price*h.quantity,0)),d=void 0,x=n=>{p.update({where:n.id,data:{quantity:n.quantity+1}})},c=n=>{n.quantity>1&&p.update({where:n.id,data:{quantity:n.quantity-1}})},i=n=>{p.delete(n.id)};return(n,h)=>{var b;return l(),m("div",H,[t("div",J,[t("h1",K,a(r(s)("shoppingCart")),1)]),y(I,{name:"list"},{default:_(()=>[(l(!0),m(V,null,j(o.value,g=>(l(),q(G,{key:g.id,item:g,onIncrementQuantity:x,onDecrementQuantity:c,onDeleteCartItem:i},null,8,["item"]))),128))]),_:1}),o.value.length===0?(l(),m("div",M,a(r(s)("emptyCart")),1)):(l(),m("div",R,[t("span",U,a(r(s)("total"))+":",1),t("span",W,"$"+a((b=u.value)==null?void 0:b.toFixed(2)),1)])),t("div",X,[r(d)?(l(),m("p",Z,a(r(s)("conditionToBuy",{minToBuy:r(d)})),1)):$("",!0),o.value.length?(l(),q(f,{key:1,class:"block checkout",disabled:r(d)>u.value,color:"primary"},{default:_(()=>[v(a(r(s)("checkout")),1)]),_:1},8,["disabled"])):$("",!0)])])}}};typeof w=="function"&&w(B);const et=L(B,[["__scopeId","data-v-7fc1ccb3"]]);export{et as default};
