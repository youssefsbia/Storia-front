import{o as l,c as u,a as n,b as m,V as f,t as a,w as _,d as k,e as v,u as B,f as C,g as r,T,h as $,F as I,r as V,C as p,i as j}from"./index-lx-Kl0zI.js";const Q={class:"mt-8"},F={class:"relative flex flex-col md:flex-row border-b border-gray-400 py-4"},N={class:"flex-shrink-0"},z=["src","alt"],D={class:"w-100 mt-4 md:mt-0 md:ml-6"},P={class:"text-lg font-bold"},S={class:"mt-2 text--primary"},O={class:"mt-4 flex items-center justify-between"},Y={class:"flex items-center"},A={class:"mx-2 text--primary"},E={class:"ml-auto font-bold"},G={__name:"SingleCartItem",props:{item:{type:Object,required:!0}},emits:["decrement-quantity","increment-quantity","delete-cart-item"],setup(t,{emit:s}){const o=s,y=c=>{c.quantity!==1&&o("decrement-quantity",c)},d=c=>{o("increment-quantity",c)},x=c=>{o("delete-cart-item",c)};return(c,i)=>(l(),u("div",Q,[n("div",F,[n("div",N,[n("img",{src:t.item.product.image,alt:t.item.product.title,class:"w-32 h-32 object-cover rounded-md"},null,8,z)]),m(f,{class:"!absolute !top-2 !right-0",variant:"text",icon:"mdi-delete-outline",onClick:i[0]||(i[0]=e=>x(t.item))}),n("div",D,[n("h2",P,a(t.item.product.title),1),n("p",S,a(t.item.product.description),1),n("div",O,[n("div",Y,[m(f,{variant:"outlined",size:"x-small",onClick:i[1]||(i[1]=e=>y(t.item))},{default:_(()=>[m(k,null,{default:_(()=>i[3]||(i[3]=[v("mdi-minus")])),_:1})]),_:1}),n("span",A,a(t.item.quantity),1),m(f,{variant:"outlined",size:"x-small",onClick:i[2]||(i[2]=e=>d(t.item))},{default:_(()=>[m(k,null,{default:_(()=>i[4]||(i[4]=[v("mdi-plus")])),_:1})]),_:1})]),n("span",E,"$"+a(t.item.product.price.toFixed(2)),1)])])])]))}};function q(t){const s=t;s.__i18n=s.__i18n||[],s.__i18n.push({locale:"",resource:{en:{shoppingCart:{t:0,b:{t:2,i:[{t:3}],s:"Shopping Cart"}},checkout:{t:0,b:{t:2,i:[{t:3}],s:"buy now"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},emptyCart:{t:0,b:{t:2,i:[{t:3}],s:"Your cart is empty."}},conditionToBuy:{t:0,b:{t:2,i:[{t:3,v:"You must have a minimum of $"},{t:4,k:"minToBuy"},{t:3,v:" to buy."}]}}},fr:{shoppingCart:{t:0,b:{t:2,i:[{t:3}],s:"Panier d'achat"}},checkout:{t:0,b:{t:2,i:[{t:3}],s:"Acheter maintenant"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},emptyCart:{t:0,b:{t:2,i:[{t:3}],s:"Votre panier est vide."}},conditionToBuy:{t:0,b:{t:2,i:[{t:3,v:"Vous devez avoir un minimum de $"},{t:4,k:"minToBuy"},{t:3,v:" pour acheter."}]}}}}})}const L=(t,s)=>{const o=t.__vccOpts||t;for(const[y,d]of s)o[y]=d;return o},H={class:"container mx-auto px-4 py-8"},J={class:"flex flex-col md:flex-row md:justify-between md:items-center"},K={class:"text-2xl font-bold my-4"},M={key:0,class:"mt-8 text--primary text-h5 text-center empty-cart-message"},R={key:1,class:"flex justify-end items-center mt-8"},U={class:"text-gray-600 mr-4"},W={class:"text-xl font-bold cart-total"},X={key:2,class:"flex flex-column justify-end items-center md:items-end mt-8"},Z={key:0,class:"text-center mb-2 text-gray-500 font-light text-sm"},w={__name:"CartPage",setup(t){const{t:s}=B(),o=C(()=>p.query().with("product").get()),y=C(()=>o.value.reduce((e,h)=>e+h.product.price*h.quantity,0)),d=void 0,x=e=>{p.update({where:e.id,data:{quantity:e.quantity+1}})},c=e=>{e.quantity>1&&p.update({where:e.id,data:{quantity:e.quantity-1}})},i=e=>{p.delete(e.id)};return(e,h)=>{var b;return l(),u("div",H,[n("div",J,[n("h1",K,a(r(s)("shoppingCart")),1)]),m(T,{name:"list"},{default:_(()=>[(l(!0),u(I,null,V(o.value,g=>(l(),j(G,{key:g.id,item:g,onIncrementQuantity:x,onDecrementQuantity:c,onDeleteCartItem:i},null,8,["item"]))),128))]),_:1}),o.value.length===0?(l(),u("div",M,a(r(s)("emptyCart")),1)):(l(),u("div",R,[n("span",U,a(r(s)("total"))+":",1),n("span",W,"$"+a((b=y.value)==null?void 0:b.toFixed(2)),1)])),o.value.length?(l(),u("div",X,[r(d)?(l(),u("p",Z,a(r(s)("conditionToBuy",{minToBuy:r(d)})),1)):$("",!0),m(f,{class:"block checkout",disabled:r(d)>y.value,color:"primary"},{default:_(()=>[v(a(r(s)("checkout")),1)]),_:1},8,["disabled"])])):$("",!0)])}}};typeof q=="function"&&q(w);const et=L(w,[["__scopeId","data-v-5575188e"]]);export{et as default};
